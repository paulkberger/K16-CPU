# How to getting the K16 CPU running.



**Download and install Digital**

[GitHub - hneemann/Digital: A digital logic designer and circuit simulator.](https://github.com/hneemann/Digital)



Once you have downloaded and installed Digital run it and open the file **K16 CPU.dig**

When opening **K16 CPU.dig**  Digital automatically loads the following files into CPU's ROMs.

- **ALU0.hex**
- **ALU1.hex**
- **ALU2.hex**
- **CONTROL0.hex**
- **CONTROL1.hex**
- **LOOKUP_LO.hex**
- **LOOKUP_HI.hex**
- **ProgramHIGH.hex**
- **ProgramLOW.hex**


It is <u>important </u>that these files are located in the same directory as **K16 CPU. dig**



**ProgramHIGH** and **ProgramLOW** are generated by the K16 Assembler.
The files here on GitHub are preloaded the K/OS and Forth, and also some additional LOOKUP tables (refer to K16 Reference Manual).

**Note:** When you first run the CPU the Terminal and Keyboard windows will both open. Unfortunately the Keyboard window will be hidden behind the Terminal window. Focus the Keyboard windows to type commands etc.

## Running the K16 Assembler

The source for K16 Forth and some other K16 assembler code samples are included.

- Run the assembler.

- Click Open and select a file (for example Forth)

- Click on Settings and select the assembler's Output Directory. This needs to be the subdirectory where **K16 CPU.dig** is located. Keep Add Lookups ticked.

- Click Assemble. This will assemble the file and if successful focus the Listing tab.

- Click Export Rom Images. This create the binary code and add the binary image of additional lookup tables (LOOKUP_HI_00.bin and LOOKUP_LO_00.bin) and create new ProgramHIGH/LOW roms.

- Simply Stop and Start the emulator to reload and execute the your assembled program.



**Note**: The K16 Assembler currently only runs unders Windows. I'll convert it to Free Pascal soon so it can run under MacOS etc. You can still open and run the K16 CPU under Digital and play with Forth etc on MacOS. 


